[nightly] ==========================================
[nightly] SGL Nightly Benchmark Started
[nightly] ==========================================
[nightly] Command: scripts/perf_nightly.sh --model=deepseek --model-path=/data/models/deepseek-ai/DeepSeek-V3-0324 --mode=online --hardware=mi30x --teams-webhook-url=
[nightly] Start time: 2025-12-16 10:00:01 PST
[nightly] Machine: dell300x-pla-t12-38
[nightly] Working directory: /mnt/raid/michael/sglang-ci
[nightly] Script location: /mnt/raid/michael/sglang-ci/scripts/perf_nightly.sh
[nightly] Process ID: 2260519
[nightly] ==========================================

[nightly] Runtime Environment:
[nightly] User: amd | Groups: amd adm cdrom... | Docker: /usr/bin/docker
[nightly] Testing Docker daemon access...
[nightly] Docker daemon accessible - proceeding...
[nightly] WARN: --teams-webhook-url was provided without a value - notifications disabled
[nightly] Custom model path provided: /data/models/deepseek-ai/DeepSeek-V3-0324
[nightly] Hardware: mi30x, ROCM Version: rocm700
[nightly] Model: deepseek, Mode(s): online
[nightly] Created process lock: /tmp/perf_nightly_deepseek.lock
[nightly] GPU is busy. Attempting to stop running Docker containers...
[nightly] Stopping running containers: e873251f0cb6
[nightly] Waiting 15s for GPU to become idle...
[nightly] WARN: GPU may still be busy, but proceeding as requested.
[nightly] Searching for non-SRT images for deepseek for the last 1 days...
[nightly] Searching for non-SRT mi30x image (rocm700) in 'rocm/sgl-dev' for date 20251216...
[nightly] Found candidate tag for day -0: v0.5.6.post2-rocm700-mi30x-20251216
[nightly] Found local image: rocm/sgl-dev:v0.5.6.post2-rocm700-mi30x-20251216
[nightly] Successfully obtained image for date 20251216: rocm/sgl-dev:v0.5.6.post2-rocm700-mi30x-20251216
[nightly] Found 1 valid image(s) to run benchmarks on:
[nightly]   - rocm/sgl-dev:v0.5.6.post2-rocm700-mi30x-20251216

[nightly] ==========================================
[nightly] Starting benchmarks for image: rocm/sgl-dev:v0.5.6.post2-rocm700-mi30x-20251216
[nightly] ==========================================
[nightly] Checking GPU status before starting benchmarks for rocm/sgl-dev:v0.5.6.post2-rocm700-mi30x-20251216...
[nightly] GPU is busy. Attempting to stop running Docker containers...
[nightly] No running containers to stop.
[nightly] Waiting 15s for GPU to become idle...
[nightly] WARN: GPU may still be busy, but proceeding as requested.
[nightly] INFO: Found 0/15 completed runs for rocm/sgl-dev:v0.5.6.post2-rocm700-mi30x-20251216 (online). Proceeding with benchmarks.
[nightly] Using Docker image: rocm/sgl-dev:v0.5.6.post2-rocm700-mi30x-20251216
[nightly] Container name: sgl-dev_v0.5.6.post2-rocm700-mi30x-20251216
[nightly] Reusing container sgl-dev_v0.5.6.post2-rocm700-mi30x-20251216
[nightly] === Starting benchmark execution ===
[nightly] === Starting nightly DEEPSEEK online benchmark ===
[nightly] Launching deepseek_perf_online_csv.sh inside sgl-dev_v0.5.6.post2-rocm700-mi30x-20251216
[nightly] Passing --model-name='DeepSeek-V3-0324' to DeepSeek benchmark
‚úÖ Parameter validation passed
[online] Script started at: 2025-12-16 10:00:43 PST
Scanning existing logs to check if all benchmarks are already complete...
Checking GSM8K log status...
Missing: GSM8K log file (/mnt/raid/michael/sglang-ci/online/DeepSeek-V3-0324/v0.5.6.post2-rocm700-mi30x-20251216_DeepSeek-V3-0324_FP8_online/sglang_client_log_DeepSeek-V3-0324_gsm8k.log)
Checking serving benchmark logs...
Missing: Concurrency 128, Run 1
Missing: Concurrency 64, Run 1
Missing: Concurrency 16, Run 1
Missing: Concurrency 4, Run 1
Missing: Concurrency 1, Run 1
Scan complete: 5 total runs needed, 5 missing/incomplete
‚ùå Missing 5 serving benchmark runs.
‚ùå GSM8K benchmark is missing, empty, or incomplete.
Server startup required.
Clearing previous logs...
Starting SGLang server for online GSM8K benchmark...

============================================================
üî• MOE Kernel Warmup Phase
============================================================
[warmup] Pre-compiling MOE kernels to prevent JIT deadlock...
[warmup] MOE kernels already compiled, skipping warmup
[csv] Cleaning up stale aiter JIT lock files...
[csv] No stale aiter lock files found
[DEBUG] Using standard settings with environment variable: SGLANG_USE_AITER
Waiting for SGLang server (PID: 53) to start... (Max 15 minutes)
Server logs are being written to: /mnt/raid/michael/sglang-ci/online/DeepSeek-V3-0324/v0.5.6.post2-rocm700-mi30x-20251216_DeepSeek-V3-0324_FP8_online/sglang_server.log
.................................
SGLang server started successfully after 165 seconds.
=== Online GSM8K Benchmark: TP=8, Questions=2000, Parallel=2000, Shots=5 ===
[progress] Total benchmark runs to execute: 10 (GSM8K: 5, Serving: 5) - standard mode
[progress] [--------------------------------------------------] 0/10 (0%) 
Starting GSM8K Online Benchmark...
Running 5 test iterations...
Executing GSM8K test Run 1 ...
  0%|          | 0/1319 [00:00<?, ?it/s]  0%|          | 1/1319 [00:23<8:25:17, 23.00s/it]  0%|          | 2/1319 [00:23<3:29:44,  9.56s/it]  0%|          | 3/1319 [00:23<2:02:20,  5.58s/it]  0%|          | 4/1319 [00:25<1:22:48,  3.78s/it]  0%|          | 6/1319 [00:25<39:41,  1.81s/it]    1%|          | 11/1319 [00:26<16:05,  1.35it/s]  1%|          | 16/1319 [00:26<09:40,  2.25it/s]  2%|‚ñè         | 20/1319 [00:27<07:28,  2.89it/s]  2%|‚ñè         | 28/1319 [00:28<05:00,  4.29it/s]  3%|‚ñé         | 33/1319 [00:30<06:55,  3.10it/s]  3%|‚ñé         | 39/1319 [00:30<05:57,  3.58it/s]  3%|‚ñé         | 39/1319 [00:30<05:57,  3.58it/s]  3%|‚ñé         | 39/1319 [00:30<05:57,  3.58it/s]  3%|‚ñé         | 39/1319 [00:30<05:57,  3.58it/s]  3%|‚ñé         | 39/1319 [00:30<05:57,  3.58it/s]  3%|‚ñé         | 39/1319 [00:30<05:57,  3.58it/s]  3%|‚ñé         | 40/1319 [00:31<06:19,  3.37it/s]  3%|‚ñé         | 42/1319 [00:31<05:58,  3.56it/s]  4%|‚ñç         | 55/1319 [00:34<04:46,  4.41it/s]  5%|‚ñç         | 64/1319 [00:36<05:15,  3.98it/s]  5%|‚ñå         | 68/1319 [00:36<05:16,  3.95it/s]  5%|‚ñå         | 68/1319 [00:36<05:16,  3.95it/s]  5%|‚ñå         | 69/1319 [00:37<05:16,  3.95it/s]  6%|‚ñå         | 77/1319 [00:37<03:46,  5.49it/s]  6%|‚ñã         | 85/1319 [00:39<04:27,  4.62it/s]  7%|‚ñã         | 91/1319 [00:40<03:51,  5.29it/s]  8%|‚ñä         | 99/1319 [00:40<02:50,  7.15it/s]  8%|‚ñä         | 106/1319 [00:41<02:32,  7.94it/s]  9%|‚ñä         | 114/1319 [00:41<01:02, 19.37it/s]  9%|‚ñä         | 114/1319 [00:41<01:02, 19.37it/s]  9%|‚ñä         | 114/1319 [00:41<01:02, 19.37it/s]  9%|‚ñâ         | 116/1319 [00:41<01:02, 19.37it/s]  9%|‚ñâ         | 118/1319 [00:41<01:02, 19.37it/s]  9%|‚ñâ         | 122/1319 [00:41<01:01, 19.37it/s]  9%|‚ñâ         | 123/1319 [00:41<01:01, 19.37it/s]  9%|‚ñâ         | 123/1319 [00:41<01:01, 19.37it/s]  9%|‚ñâ         | 125/1319 [00:42<01:22, 14.45it/s] 10%|‚ñà         | 134/1319 [00:42<01:23, 14.23it/s] 11%|‚ñà         | 142/1319 [00:43<01:13, 16.07it/s] 11%|‚ñà‚ñè        | 150/1319 [00:43<01:05, 17.80it/s] 12%|‚ñà‚ñè        | 160/1319 [00:43<00:56, 20.68it/s] 13%|‚ñà‚ñé        | 172/1319 [00:44<00:58, 19.73it/s] 13%|‚ñà‚ñé        | 178/1319 [00:44<01:11, 15.93it/s] 14%|‚ñà‚ñç        | 187/1319 [00:45<01:01, 18.31it/s] 15%|‚ñà‚ñå        | 198/1319 [00:45<01:03, 17.65it/s] 16%|‚ñà‚ñã        | 217/1319 [00:46<00:59, 18.37it/s] 17%|‚ñà‚ñã        | 221/1319 [00:46<00:55, 19.89it/s] 17%|‚ñà‚ñã        | 221/1319 [00:46<00:55, 19.89it/s] 17%|‚ñà‚ñã        | 224/1319 [00:47<01:08, 15.99it/s] 18%|‚ñà‚ñä        | 237/1319 [00:48<01:03, 16.95it/s] 20%|‚ñà‚ñâ        | 259/1319 [00:50<01:23, 12.77it/s] 21%|‚ñà‚ñà        | 272/1319 [00:51<01:20, 13.05it/s] 21%|‚ñà‚ñà        | 277/1319 [00:51<01:09, 15.04it/s] 21%|‚ñà‚ñà        | 278/1319 [00:51<01:09, 15.04it/s] 21%|‚ñà‚ñà        | 278/1319 [00:51<01:09, 15.04it/s] 21%|‚ñà‚ñà        | 280/1319 [00:52<01:24, 12.35it/s] 22%|‚ñà‚ñà‚ñè       | 294/1319 [00:52<01:10, 14.47it/s] 23%|‚ñà‚ñà‚ñé       | 302/1319 [00:53<01:13, 13.86it/s] 24%|‚ñà‚ñà‚ñé       | 313/1319 [00:53<00:58, 17.26it/s] 24%|‚ñà‚ñà‚ñç       | 321/1319 [00:53<00:48, 20.66it/s] 25%|‚ñà‚ñà‚ñå       | 331/1319 [00:54<00:37, 26.13it/s] 26%|‚ñà‚ñà‚ñå       | 340/1319 [00:54<00:31, 31.08it/s] 27%|‚ñà‚ñà‚ñã       | 352/1319 [00:54<00:24, 39.60it/s] 28%|‚ñà‚ñà‚ñä       | 364/1319 [00:54<00:20, 47.75it/s] 29%|‚ñà‚ñà‚ñä       | 377/1319 [00:54<00:16, 56.67it/s] 29%|‚ñà‚ñà‚ñâ       | 389/1319 [00:54<00:14, 63.05it/s] 30%|‚ñà‚ñà‚ñà       | 397/1319 [00:54<00:15, 61.05it/s] 31%|‚ñà‚ñà‚ñà       | 404/1319 [00:55<00:15, 57.32it/s] 31%|‚ñà‚ñà‚ñà‚ñè      | 415/1319 [00:55<00:14, 62.56it/s] 32%|‚ñà‚ñà‚ñà‚ñè      | 426/1319 [00:55<00:13, 66.37it/s] 33%|‚ñà‚ñà‚ñà‚ñé      | 437/1319 [00:55<00:12, 68.95it/s] 34%|‚ñà‚ñà‚ñà‚ñç      | 451/1319 [00:55<00:11, 77.40it/s] 35%|‚ñà‚ñà‚ñà‚ñç      | 459/1319 [00:55<00:12, 70.41it/s] 36%|‚ñà‚ñà‚ñà‚ñå      | 475/1319 [00:55<00:10, 83.03it/s] 37%|‚ñà‚ñà‚ñà‚ñã      | 484/1319 [00:56<00:10, 76.89it/s] 37%|‚ñà‚ñà‚ñà‚ñã      | 492/1319 [00:57<00:51, 15.91it/s] 38%|‚ñà‚ñà‚ñà‚ñä      | 498/1319 [00:58<00:45, 18.18it/s] 39%|‚ñà‚ñà‚ñà‚ñä      | 508/1319 [00:58<00:33, 23.93it/s] 39%|‚ñà‚ñà‚ñà‚ñâ      | 515/1319 [00:58<00:29, 27.35it/s] 40%|‚ñà‚ñà‚ñà‚ñâ      | 522/1319 [00:58<00:25, 30.81it/s] 40%|‚ñà‚ñà‚ñà‚ñà      | 532/1319 [00:58<00:20, 38.15it/s] 41%|‚ñà‚ñà‚ñà‚ñà      | 544/1319 [00:58<00:16, 47.80it/s] 42%|‚ñà‚ñà‚ñà‚ñà‚ñè     | 556/1319 [00:58<00:13, 56.36it/s] 43%|‚ñà‚ñà‚ñà‚ñà‚ñé     | 563/1319 [00:58<00:07, 107.31it/s] 43%|‚ñà‚ñà‚ñà‚ñà‚ñé     | 563/1319 [00:58<00:07, 107.31it/s] 43%|‚ñà‚ñà‚ñà‚ñà‚ñé     | 563/1319 [00:58<00:07, 107.31it/s] 43%|‚ñà‚ñà‚ñà‚ñà‚ñé     | 563/1319 [00:58<00:07, 107.31it/s] 43%|‚ñà‚ñà‚ñà‚ñà‚ñé     | 563/1319 [00:58<00:07, 107.31it/s] 43%|‚ñà‚ñà‚ñà‚ñà‚ñé     | 563/1319 [00:58<00:07, 107.31it/s] 44%|‚ñà‚ñà‚ñà‚ñà‚ñé     | 575/1319 [00:59<00:08, 91.71it/s]  44%|‚ñà‚ñà‚ñà‚ñà‚ñç     | 585/1319 [00:59<00:07, 93.21it/s] 45%|‚ñà‚ñà‚ñà‚ñà‚ñå     | 595/1319 [00:59<00:10, 66.27it/s] 46%|‚ñà‚ñà‚ñà‚ñà‚ñå     | 607/1319 [00:59<00:10, 70.99it/s] 47%|‚ñà‚ñà‚ñà‚ñà‚ñã     | 617/1319 [00:59<00:09, 70.75it/s] 48%|‚ñà‚ñà‚ñà‚ñà‚ñä     | 629/1319 [00:59<00:09, 74.33it/s] 49%|‚ñà‚ñà‚ñà‚ñà‚ñä     | 641/1319 [01:00<00:08, 77.66it/s] 49%|‚ñà‚ñà‚ñà‚ñà‚ñâ     | 650/1319 [01:00<00:09, 72.88it/s] 50%|‚ñà‚ñà‚ñà‚ñà‚ñà     | 662/1319 [01:00<00:08, 76.98it/s] 51%|‚ñà‚ñà‚ñà‚ñà‚ñà     | 670/1319 [01:00<00:09, 70.98it/s] 51%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè    | 679/1319 [01:00<00:09, 68.58it/s] 53%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé    | 695/1319 [01:00<00:07, 82.04it/s] 53%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé    | 704/1319 [01:00<00:08, 76.57it/s] 54%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç    | 714/1319 [01:01<00:08, 74.87it/s] 55%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç    | 724/1319 [01:01<00:08, 73.36it/s] 56%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå    | 739/1319 [01:01<00:06, 83.52it/s] 57%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã    | 749/1319 [01:01<00:07, 79.90it/s] 58%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä    | 760/1319 [01:03<00:31, 17.48it/s] 59%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä    | 772/1319 [01:03<00:23, 23.36it/s] 59%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñâ    | 781/1319 [01:03<00:19, 27.89it/s] 60%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñâ    | 791/1319 [01:03<00:15, 33.80it/s] 61%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    | 802/1319 [01:03<00:12, 41.11it/s] 63%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé   | 832/1319 [01:04<00:07, 69.56it/s] 64%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç   | 850/1319 [01:04<00:05, 79.00it/s] 65%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå   | 861/1319 [01:04<00:06, 75.87it/s] 66%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå   | 871/1319 [01:04<00:06, 72.11it/s] 68%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä   | 891/1319 [01:04<00:04, 86.17it/s] 69%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä   | 904/1319 [01:04<00:04, 84.66it/s] 70%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   | 924/1319 [01:04<00:04, 97.37it/s] 71%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè  | 942/1319 [01:05<00:03, 103.14it/s] 73%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé  | 957/1319 [01:05<00:03, 103.05it/s] 74%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç  | 973/1319 [01:05<00:03, 105.22it/s] 75%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç  | 984/1319 [01:05<00:03, 96.53it/s]  76%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå  | 997/1319 [01:05<00:03, 95.33it/s] 77%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã  | 1019/1319 [01:05<00:02, 113.70it/s] 78%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä  | 1033/1319 [01:05<00:02, 111.95it/s] 79%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñâ  | 1046/1319 [01:06<00:02, 108.30it/s] 80%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  | 1057/1319 [01:06<00:02, 89.19it/s]  81%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  | 1067/1319 [01:06<00:02, 86.28it/s] 82%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè | 1077/1319 [01:06<00:02, 84.88it/s] 82%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè | 1086/1319 [01:06<00:02, 81.79it/s] 83%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé | 1096/1319 [01:06<00:02, 81.91it/s] 84%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç | 1105/1319 [01:06<00:02, 79.50it/s] 84%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç | 1113/1319 [01:07<00:02, 76.19it/s] 85%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå | 1124/1319 [01:07<00:02, 81.13it/s] 86%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå | 1133/1319 [01:07<00:02, 79.90it/s] 87%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã | 1144/1319 [01:07<00:02, 85.26it/s] 87%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã | 1153/1319 [01:07<00:01, 83.94it/s] 88%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä | 1162/1319 [01:07<00:01, 83.53it/s] 89%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñâ | 1171/1319 [01:07<00:01, 82.71it/s] 89%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñâ | 1180/1319 [01:07<00:01, 82.90it/s] 90%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà | 1189/1319 [01:07<00:01, 73.52it/s] 91%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà | 1197/1319 [01:08<00:01, 74.13it/s] 91%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè| 1205/1319 [01:08<00:01, 59.57it/s] 92%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè| 1212/1319 [01:08<00:01, 61.42it/s] 92%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè| 1219/1319 [01:08<00:01, 57.13it/s] 93%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé| 1226/1319 [01:08<00:01, 54.18it/s] 94%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé| 1236/1319 [01:08<00:01, 59.38it/s] 94%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç| 1243/1319 [01:09<00:01, 51.18it/s] 95%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç| 1249/1319 [01:09<00:01, 41.54it/s] 95%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå| 1255/1319 [01:09<00:01, 42.33it/s] 96%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå| 1260/1319 [01:09<00:01, 41.09it/s] 96%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå| 1265/1319 [01:09<00:01, 37.27it/s] 96%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã| 1270/1319 [01:09<00:01, 37.82it/s] 97%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã| 1276/1319 [01:09<00:01, 40.50it/s] 97%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã| 1281/1319 [01:10<00:01, 28.24it/s] 97%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã| 1285/1319 [01:10<00:01, 23.28it/s] 98%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä| 1288/1319 [01:10<00:01, 20.19it/s] 98%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä| 1292/1319 [01:10<00:01, 21.86it/s] 98%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä| 1295/1319 [01:11<00:01, 22.97it/s] 98%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä| 1298/1319 [01:11<00:01, 19.07it/s] 99%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä| 1301/1319 [01:11<00:00, 19.80it/s] 99%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñâ| 1305/1319 [01:11<00:00, 22.60it/s] 99%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñâ| 1309/1319 [01:11<00:00, 21.66it/s] 99%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñâ| 1312/1319 [01:11<00:00, 18.60it/s]100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñâ| 1315/1319 [01:12<00:00, 16.44it/s]100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñâ| 1317/1319 [01:12<00:00,  8.99it/s]100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1319/1319 [01:16<00:00,  2.00it/s]100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1319/1319 [01:16<00:00, 17.24it/s]
Accuracy: 0.939
Invalid: 0.000
Latency: 118.801 s
Output throughput: 1145.491 token/s
Run 1 completed in 124 seconds
Run 1: Accuracy: 0.939
  ‚úì Run 1 included in average (accuracy: 0.939)
  üöÄ Passed on run 1, skipping remaining 4 run(s)
GSM8K test completed in 124 seconds (early exit)
Accuracy: 0.939 (Required: 0.93)
Accuracy meets threshold (0.93).
‚úÖ GSM8K benchmark completed successfully.
GSM8K log saved to /mnt/raid/michael/sglang-ci/online/DeepSeek-V3-0324/v0.5.6.post2-rocm700-mi30x-20251216_DeepSeek-V3-0324_FP8_online/sglang_client_log_DeepSeek-V3-0324_gsm8k.log
Server log saved to /mnt/raid/michael/sglang-ci/online/DeepSeek-V3-0324/v0.5.6.post2-rocm700-mi30x-20251216_DeepSeek-V3-0324_FP8_online/sglang_server.log
Starting serving benchmark tests with different concurrency levels...
[online] Structured CSV initialized at /mnt/raid/michael/sglang-ci/online/DeepSeek-V3-0324/v0.5.6.post2-rocm700-mi30x-20251216_DeepSeek-V3-0324_FP8_online/v0.5.6.post2-rocm700-mi30x-20251216_DeepSeek-V3-0324_FP8_serving.csv
Processing concurrency 128 with 1 runs...
Running serving benchmark with concurrency 128 (Run 1) - 500 prompts...
Concurrency 128, Run 1 completed: 500 requests, (tok/s): tok/s output throughput, 156452.14ms E2E latency (633s)
[progress] [=====---------------------------------------------] 1/10 (10%)  | Serving: C128 R1
‚úÖ Best results for concurrency 128: E2E=156452.14ms, TTFT=28288.59ms, ITL=146.36ms, Output=(tok/s): tok/s
[online] Updating CSV for concurrency 128: E2E=156452.14ms, TTFT=28288.59ms, ITL=146.36ms, Output=(tok/s): tok/s
[online] CSV updated with results for concurrency 128
Sleeping 3 seconds before next concurrency level...
Processing concurrency 64 with 1 runs...
Running serving benchmark with concurrency 64 (Run 1) - 500 prompts...
Concurrency 64, Run 1 completed: 500 requests, (tok/s): tok/s output throughput, 116657.09ms E2E latency (887s)
[progress] [==========----------------------------------------] 2/10 (20%)  | Serving: C64 R1
‚úÖ Best results for concurrency 64: E2E=116657.09ms, TTFT=9626.93ms, ITL=121.60ms, Output=(tok/s): tok/s
[online] Updating CSV for concurrency 64: E2E=116657.09ms, TTFT=9626.93ms, ITL=121.60ms, Output=(tok/s): tok/s
[online] CSV updated with results for concurrency 64
Sleeping 3 seconds before next concurrency level...
Processing concurrency 16 with 1 runs...
Running serving benchmark with concurrency 16 (Run 1) - 128 prompts...
Concurrency 16, Run 1 completed: 128 requests, (tok/s): tok/s output throughput, 66476.40ms E2E latency (482s)
[progress] [===============-----------------------------------] 3/10 (30%)  | Serving: C16 R1
‚úÖ Best results for concurrency 16: E2E=66476.40ms, TTFT=2431.72ms, ITL=96.65ms, Output=(tok/s): tok/s
[online] Updating CSV for concurrency 16: E2E=66476.40ms, TTFT=2431.72ms, ITL=96.65ms, Output=(tok/s): tok/s
[online] CSV updated with results for concurrency 16
Sleeping 3 seconds before next concurrency level...
Processing concurrency 4 with 1 runs...
Running serving benchmark with concurrency 4 (Run 1) - 128 prompts...
Concurrency 4, Run 1 completed: 128 requests, (tok/s): tok/s output throughput, 21500.53ms E2E latency (702s)
[progress] [====================------------------------------] 4/10 (40%)  | Serving: C4 R1
‚úÖ Best results for concurrency 4: E2E=21500.53ms, TTFT=369.51ms, ITL=26.44ms, Output=(tok/s): tok/s
[online] Updating CSV for concurrency 4: E2E=21500.53ms, TTFT=369.51ms, ITL=26.44ms, Output=(tok/s): tok/s
[online] CSV updated with results for concurrency 4
Sleeping 3 seconds before next concurrency level...
Processing concurrency 1 with 1 runs...
Running serving benchmark with concurrency 1 (Run 1) - 128 prompts...
Concurrency 1, Run 1 completed: 128 requests, (tok/s): tok/s output throughput, 19995.59ms E2E latency (2574s)
[progress] [=========================-------------------------] 5/10 (50%)  | Serving: C1 R1
‚úÖ Best results for concurrency 1: E2E=19995.59ms, TTFT=201.49ms, ITL=24.79ms, Output=(tok/s): tok/s
[online] Updating CSV for concurrency 1: E2E=19995.59ms, TTFT=201.49ms, ITL=24.79ms, Output=(tok/s): tok/s
[online] CSV updated with results for concurrency 1
‚úÖ Serving benchmark completed successfully in 5300 seconds (standard mode).
Structured serving benchmark results written to /mnt/raid/michael/sglang-ci/online/DeepSeek-V3-0324/v0.5.6.post2-rocm700-mi30x-20251216_DeepSeek-V3-0324_FP8_online/v0.5.6.post2-rocm700-mi30x-20251216_DeepSeek-V3-0324_FP8_serving.csv
Individual concurrency logs saved to /mnt/raid/michael/sglang-ci/online/DeepSeek-V3-0324/v0.5.6.post2-rocm700-mi30x-20251216_DeepSeek-V3-0324_FP8_online/sglang_serving_benchmark_concurrency_*_run*.log
GSM8K accuracy results written to /mnt/raid/michael/sglang-ci/online/DeepSeek-V3-0324/v0.5.6.post2-rocm700-mi30x-20251216_DeepSeek-V3-0324_FP8_online/sglang_client_log_DeepSeek-V3-0324_gsm8k.log
Shutting down SGLang server...
Server shutdown completed in 0 seconds

==========================================
SCRIPT EXECUTION SUMMARY
==========================================
Script completed at: 2025-12-16 11:33:53 PST
Total execution time: 5590 seconds (93 minutes)
Output directory: /mnt/raid/michael/sglang-ci/online/DeepSeek-V3-0324/v0.5.6.post2-rocm700-mi30x-20251216_DeepSeek-V3-0324_FP8_online
Serving CSV: /mnt/raid/michael/sglang-ci/online/DeepSeek-V3-0324/v0.5.6.post2-rocm700-mi30x-20251216_DeepSeek-V3-0324_FP8_online/v0.5.6.post2-rocm700-mi30x-20251216_DeepSeek-V3-0324_FP8_serving.csv
Timing log: /mnt/raid/michael/sglang-ci/online/DeepSeek-V3-0324/v0.5.6.post2-rocm700-mi30x-20251216_DeepSeek-V3-0324_FP8_online/timing_summary_20251216_100043.log
===========================================
Cleaning up...
Killing background SGLang server (PID: 53)...
Server process 53 not found or already terminated.
[nightly] === Online benchmark dispatched for DEEPSEEK; check logs in sgl-dev_v0.5.6.post2-rocm700-mi30x-20251216 ===
[nightly] === Starting post-processing (CSV processing, plot generation, Teams notifications) ===
[nightly] Processing online CSV data and generating plots... Logs will be saved to /mnt/raid/michael/sglang-ci/online/DeepSeek-V3-0324/v0.5.6.post2-rocm700-mi30x-20251216_DeepSeek-V3-0324_FP8_online/process_and_generate_online_plots.log
[nightly] Using plot date from image tag: 20251216
[nightly] Teams notifications skipped - --teams-webhook-url not provided
[nightly] === Online post-processing completed for DEEPSEEK ===
[nightly] ==========================================
[nightly] Completed benchmarks for image: rocm/sgl-dev:v0.5.6.post2-rocm700-mi30x-20251216
[nightly] Stopping container sgl-dev_v0.5.6.post2-rocm700-mi30x-20251216 to release resources...
[nightly] ==========================================
[nightly] ==========================================
[nightly] All benchmarks completed for 1 image(s)
[nightly] ==========================================
[nightly] Cleaning up process lock...
